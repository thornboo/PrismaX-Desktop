# 界面设计

> 本文档描述 PrismaX 的界面布局与交互设计

---

## 主界面布局

```
+-------------------------------------------------------------------------+
|  PrismaX                                    [搜索] [设置] [用户]        |
+-------------+-----------------------------------------------------------+
|             |                                                           |
|  会话列表    |                    对话区域                               |
|             |                                                           |
|  [+ 新会话]  |  +-----------------------------------------------------+ |
|             |  |                                                     | |
|  [今天]      |  |  用户消息                                           | |
|  |- 会话1    |  |                                                     | |
|  |- 会话2    |  |  AI 回复                                            | |
|             |  |                                                     | |
|  [昨天]      |  |                                                     | |
|  |- 会话3    |  |                                                     | |
|             |  |                                                     | |
|             |  +-----------------------------------------------------+ |
|             |                                                           |
|             |  +-----------------------------------------------------+ |
|  ----------  |  | 输入消息...                        [附件] [语音] [发送] | |
|  知识库      |  +-----------------------------------------------------+ |
|  助手        |                                                           |
|  插件        |  [GPT-4o v] [知识库: 无 v] [温度: 0.7]                   |
|             |                                                           |
+-------------+-----------------------------------------------------------+
```

---

## 布局区域说明

### 1. 顶部导航栏

```
+-------------------------------------------------------------------------+
|  PrismaX                                    [搜索] [设置] [用户]        |
+-------------------------------------------------------------------------+
```

**元素**：
- Logo 和应用名称
- 全局搜索按钮
- 设置入口
- 用户头像/登录状态

### 2. 左侧边栏

```
+-------------+
|  [+ 新会话]  |
|             |
|  [今天]      |
|  |- 会话1    |
|  |- 会话2    |
|  |- 会话3    |
|             |
|  [昨天]      |
|  |- 会话4    |
|             |
|  [更早]      |
|  |- ...     |
|             |
|  ----------  |
|  知识库      |
|  助手        |
|  插件        |
+-------------+
```

**功能**：
- 新建会话按钮
- 会话列表（按时间分组）
- 快捷导航（知识库、助手、插件）
- 可折叠/展开
- 支持拖拽排序

### 3. 对话区域

```
+-----------------------------------------------------------------+
|                                                                 |
|  用户                                              2024-01-11    |
|  +-------------------------------------------------------------+ |
|  | 请帮我写一个 React Hook 来管理表单状态                       | |
|  +-------------------------------------------------------------+ |
|                                                                 |
|  Assistant (GPT-4o)                               2024-01-11    |
|  +-------------------------------------------------------------+ |
|  | 好的，我来帮你创建一个通用的表单状态管理 Hook：               | |
|  |                                                              | |
|  | ```typescript                                                | |
|  | function useForm<T>(initialValues: T) {                      | |
|  |   const [values, setValues] = useState(initialValues);       | |
|  |   // ...                                                     | |
|  | }                                                            | |
|  | ```                                                          | |
|  |                                                              | |
|  | [复制] [重新生成] [编辑] [删除]                               | |
|  +-------------------------------------------------------------+ |
|                                                                 |
+-----------------------------------------------------------------+
```

**功能**：
- 消息气泡展示
- 用户/AI 角色区分
- 时间戳显示
- 消息操作按钮
- 代码块高亮和复制
- 流式打字效果

### 4. 输入区域

```
+-----------------------------------------------------------------+
|  +-------------------------------------------------------------+ |
|  | 输入消息...                              [附件] [语音] [发送] | |
|  +-------------------------------------------------------------+ |
|                                                                 |
|  [GPT-4o v] [知识库: 无 v] [温度: 0.7] [最大Token: 4096]        |
+-----------------------------------------------------------------+
```

**功能**：
- 多行文本输入
- 文件上传按钮
- 语音输入按钮
- 发送按钮
- 模型选择
- 知识库选择
- 参数调整

---

## 页面设计

### 设置页面

```
+-------------------------------------------------------------------------+
|  <- 设置                                                                |
+-------------+-----------------------------------------------------------+
|             |                                                           |
|  通用       |  通用设置                                                  |
|  模型       |  -----------------------------------------------------------  |
|  知识库     |                                                           |
|  快捷键     |  主题                                                      |
|  数据       |  [深色] [浅色] [跟随系统]                                   |
|  关于       |                                                           |
|             |  语言                                                      |
|             |  [简体中文 v]                                              |
|             |                                                           |
|             |  默认模型                                                  |
|             |  [GPT-4o v]                                               |
|             |                                                           |
|             |  发送快捷键                                                |
|             |  [Enter 发送] [Ctrl+Enter 发送]                           |
|             |                                                           |
+-------------+-----------------------------------------------------------+
```

### 模型配置页面

```
+-------------------------------------------------------------------------+
|  <- 模型配置                                                            |
+-------------------------------------------------------------------------+
|                                                                         |
|  OpenAI                                                      [已启用]   |
|  |- API Key: sk-****************************                [修改]    |
|  |- 端点: https://api.openai.com/v1                         [修改]    |
|  |- 可用模型: GPT-4o, GPT-4, GPT-3.5-turbo                            |
|                                                                         |
|  -------------------------------------------------------------------    |
|                                                                         |
|  Anthropic                                                   [已启用]   |
|  |- API Key: sk-ant-****************************            [修改]    |
|  |- 可用模型: Claude 3.5 Sonnet, Claude 3 Opus                        |
|                                                                         |
|  -------------------------------------------------------------------    |
|                                                                         |
|  Ollama                                                      [已启用]   |
|  |- 端点: http://localhost:11434                            [修改]    |
|  |- 可用模型: llama3.2, mistral, codellama                            |
|                                                                         |
|  -------------------------------------------------------------------    |
|                                                                         |
|  [+ 添加自定义提供商]                                                    |
|                                                                         |
+-------------------------------------------------------------------------+
```

### 知识库页面

```
+-------------------------------------------------------------------------+
|  <- 知识库                                              [+ 新建知识库]  |
+-------------------------------------------------------------------------+
|                                                                         |
|  +-------------------------------------------------------------------+  |
|  |  项目文档                                             [12 文档]   |  |
|  |  用于项目相关的技术文档问答                                       |  |
|  |  创建于 2024-01-10                                               |  |
|  +-------------------------------------------------------------------+  |
|                                                                         |
|  +-------------------------------------------------------------------+  |
|  |  学习资料                                              [8 文档]   |  |
|  |  编程学习相关的资料                                               |  |
|  |  创建于 2024-01-08                                               |  |
|  +-------------------------------------------------------------------+  |
|                                                                         |
+-------------------------------------------------------------------------+
```

### 知识库详情页面

```
+-------------------------------------------------------------------------+
|  <- 项目文档                                    [上传文档] [设置] [删除]|
+-------------------------------------------------------------------------+
|                                                                         |
|  文档列表 (12)                                                          |
|  -------------------------------------------------------------------    |
|                                                                         |
|  API 设计规范.md                              1.2 MB    [已处理]        |
|  数据库设计.md                                0.8 MB    [已处理]        |
|  部署指南.pdf                                 2.5 MB    [已处理]        |
|  架构说明.md                                  0.5 MB    [处理中]        |
|  测试报告.docx                                1.0 MB    [处理失败]      |
|                                                                         |
|  -------------------------------------------------------------------    |
|                                                                         |
|  +-------------------------------------------------------------------+  |
|  |                                                                   |  |
|  |                    拖拽文件到此处上传                              |  |
|  |                    或点击选择文件                                  |  |
|  |                                                                   |  |
|  |              支持 PDF、Markdown、Word、TXT 格式                    |  |
|  |                                                                   |  |
|  +-------------------------------------------------------------------+  |
|                                                                         |
+-------------------------------------------------------------------------+
```

---

## 响应式设计

### 桌面端（>1024px）

- 完整三栏布局
- 侧边栏固定显示
- 宽敞的对话区域

### 平板端（768px - 1024px）

- 侧边栏可折叠
- 点击汉堡菜单展开
- 对话区域占满宽度

### 移动端（<768px）

- 单栏布局
- 底部导航栏
- 侧边栏变为抽屉
- 简化的输入区域

---

## 主题设计

### 浅色主题

```css
--background: #ffffff;
--foreground: #0a0a0a;
--card: #ffffff;
--card-foreground: #0a0a0a;
--primary: #171717;
--primary-foreground: #fafafa;
--secondary: #f5f5f5;
--secondary-foreground: #171717;
--muted: #f5f5f5;
--muted-foreground: #737373;
--accent: #f5f5f5;
--accent-foreground: #171717;
--border: #e5e5e5;
```

### 深色主题

```css
--background: #0a0a0a;
--foreground: #fafafa;
--card: #0a0a0a;
--card-foreground: #fafafa;
--primary: #fafafa;
--primary-foreground: #171717;
--secondary: #262626;
--secondary-foreground: #fafafa;
--muted: #262626;
--muted-foreground: #a3a3a3;
--accent: #262626;
--accent-foreground: #fafafa;
--border: #262626;
```

---

## 动画设计

### 过渡动画

- 页面切换：淡入淡出 + 轻微滑动
- 侧边栏展开/收起：滑动 + 淡入淡出
- 模态框：缩放 + 淡入淡出
- 消息出现：从下方滑入

### 交互反馈

- 按钮点击：轻微缩放
- 悬停效果：背景色变化
- 加载状态：骨架屏 + 脉冲动画
- 发送消息：发送按钮旋转

### 流式响应

- 打字机效果
- 光标闪烁
- 逐字显示
